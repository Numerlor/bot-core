# Changelog

## 5.0.4 18th April 2022
- Feature: Allow passing an `api_client` to `BotBase`.`__init__` to specify the `botcore.site_api.APIClient` instance to use.

## 5.0.3 18th April 2022
- Fix: Reconnect to redis session on setup if it is closed.

## 5.0.2 5th April 2022
- Fix: Create a dummy `AsyncstatsdClient` before connecting to real url, in case a connection cannot be made on init.
- Fix: Move the creation of the `asyncio.Event`, `BotBase._guild_available` to within the setup hook, to avoid a deprecation notice.

## 5.0.1 2nd April 2022
- Fix: Move creation of BotBase's `aiohttp.AsyncResolver` to the async setup hook, to avoid deprecation notice

## 5.0.0 2nd April 2022
- Breaking: Remove public extensions util
- Feature: Add `BotBase`, a `discord.ext.commands.Bot` sub-class, which abstracts a lot of logic shared between our bots
- Feature: Add async statsd client
- Dependencies: Bump Discord.py to latest alpha commit

## 4.0.0 14th March 2022
- Breaking: Migrate back to Discord.py 2.0

## 3.0.1 5th March 2022
- Fix: Setup log tracing when `botcore.utils.logging` is imported so that it can be used within botcore functions.

## 3.0.0 3rd March 2022
 - Breaking: Move `apply_monkey_patches()` directly to `botcore.utils` namespace

## 2.1.0 24th February 2022
 - Feature: Port the Site API wrapper from the bot repo.

## 2.0.0 22nd February 2022
- Breaking: Moved regex to `botcore.utils` namespace
- Feature: Migrate from discord.py 2.0a0 to disnake.
- Feature: Add common monkey patches.
- Feature: Port many common utilities from our bots
    - caching
    - channel
    - extensions
    - loggers
    - members
    - scheduling
- Support: Added intersphinx to docs.

## 1.2.0 9th January 2022
- Feature: Add code block detection regex.

## 1.1.0 2nd December 2021
- Support: Add autogenerated docs.
- Feature: Add a regex utility.


## 1.0.0 17th November 2021
- Support: Add the core package, poetry, and linting CI.
